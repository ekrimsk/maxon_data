# Maxon Motor Web Scrapping 
This code helps facilitate brute force motor selection. It is written in separate matlab and python files which I have strung together.

This code was most recently run in August 2019, the maxon catalog and website formatting may have changed. 


## Explanation of files/folders (in the order they should be run, skip to next section to just use saved data)
    The files ``` get_motor_pages.m``` and ``` get_gearbox_pages.m``` collect lists of motor and gearboxes from the main selection tool on the maxon website through curl requests and save the corresponding html pages in the folders ``` motor_pages ``` and ``` gearbox_pages ```. Currently the number of pages is hardcoded.

    The files ``` get_maxon_motor.m``` and ``` get_maxon_gear.m``` get the actual data for the corresponding motors and gearboxes from the lists generated by the previous scripts and save the corresponding html pages in individual files in the folders ``` motors ``` and ``` gears ```.  The scripts ``` extract_motor_data.m ``` and ``` extract_gearbox_datam ``` parse the individual html files and write out the data to ``` motors.csv ``` and ``` gears.csv ```. For gearbox with no product number (that are only available in a configuration) the product number in ``` gears.csv ``` is given as "unknown_1" through "unknown_N" in order of appearance. 

    After we have all the data on motors and gearboxes, we need to determine which motors are compatible with which gearboxes. I could not find a way to do this with simple curl requests so a python script ``` get_combos/motor_gb_combos.py ``` automates a chrome browser (using selenium) to click through the list of all website "recommended" motors and generate a list of compatible gearboxes for each motor. The product numbers (or descriptions when no product number is given) are written to the files ``` get_combos/combos/combopage_*.txt ```.  Running ``` combine_gb_pages.m ``` simply concatenates all these text files into one file ``` motor_gb_combos.txt ```.  Running ``` fix_combos.m ``` accounts for the gearboxes without listed product numbers and writes out the combinations to ``` combos.txt ```. 

    Finally, ``` create_combos.m ``` reads in the data from ``` motors.csv ```, ``` gears.csv ``` and ``` combos.csv ``` and writes out a matfile to ``` motor_gb_data.mat ```. 

## Using the matfile
    Loading ``` motor_gb_data.mat ``` will add the struct arrays 'motors' and 'gears' to the workspace. The field 'gb_list' for the motors gives the indices in the 'gears' struct of compatible gearboxes. If if 'gb_list' is empty, there are no compatible motors (this is the case for motors 597974 and 607930 for example). 

## Matlab Requirements 
    - Matlab R2019a or later (a handful of html parsing tools were introduced in 2019a)

## Python Requirements 
    - python 2.7 (haven't tested on Python 3)
    - selenium
    - google chrome 
    - selenium chrome driver
    
    
## Notes
    12/19/19: Maxon appears to have changed the inertia values for some of the GPX models since July 2019 (the downloaded html does not match whats online). Mass inertia for GPX models is not given in the PDF catalog so its unclear which is correct. Motor inertia typically dominates gear inertia by at least an order of magnitude so this should not significantly affect the motor/gearbox selection process.     
